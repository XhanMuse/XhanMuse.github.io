<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>XhanMuse â€” Music</title>
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&display=swap" rel="stylesheet">
  <style>
    body {
      font-family: 'Orbitron', sans-serif;
      background: #000;
      color: #eee;
      margin:0;
      overflow-x:hidden;
      position:relative;
    }

    /* Particle canvas */
    #particles {
      position:fixed;
      top:0;
      left:0;
      width:100%;
      height:100%;
      pointer-events:none;
      z-index:0;
    }

    h1 {
      margin-top:40px;
      text-align:center;
      font-size:3rem;
      display:inline-block;
      padding:10px 20px;
      border-radius:12px;
      border:2px solid #0ff;
      color:#0ff;
      text-shadow:
        0 0 5px #0ff,
        0 0 10px #0ff,
        0 0 20px #0ff,
        0 0 40px #0ff,
        0 0 80px #0ff;
      position:relative;
      z-index:1;
    }

    .soul-icon { 
      display:inline-block; 
      font-size:3rem; 
      vertical-align:middle; 
      margin-right:10px; 
    }

    #playlist {
      list-style:none;
      padding:0;
      max-width:400px;
      margin:30px auto;
      position:relative;
      z-index:1;
    }

    #playlist li {
      margin:8px 0;
      cursor:pointer;
      padding:10px;
      border-radius:6px;
      background: linear-gradient(90deg, #111, #222);
      transition:0.3s, box-shadow 0.3s;
    }

    #playlist li:hover { 
      background:#333; 
      box-shadow:0 0 10px #0ff;
    }

    #playlist li.active { 
      background:#0ff; 
      color:#000; 
      box-shadow:0 0 15px #0ff, 0 0 25px #0ff inset;
    }

    audio { 
      width:90%; 
      max-width:400px; 
      margin:20px auto; 
      display:block; 
      outline:none; 
      position:relative;
      z-index:1;
    }

    footer {
      text-align:center;
      font-size:0.9rem;
      color:#0ff;
      margin:40px 0 20px;
      position:relative;
      z-index:1;
    }

    /* Side Japanese text */
    .side-text {
      position:fixed;
      top:0;
      font-size:1.5rem;
      writing-mode: vertical-rl;
      transform: rotate(180deg);
      height:100%;
      display:flex;
      flex-direction:column;
      justify-content:space-around;
      pointer-events:none;
      animation: glow 3s infinite alternate;
      z-index:1;
    }

    .side-text span {
      display:block;
      margin:10px 0;
      font-weight:bold;
      text-shadow: 0 0 5px #0ff, 0 0 10px #0ff, 0 0 15px #0ff;
    }

    .left { left:0; }
    .right { right:0; }

    @keyframes glow {
      0% { filter: drop-shadow(0 0 5px #0ff) drop-shadow(0 0 10px #0ff); }
      50% { filter: drop-shadow(0 0 10px #0ff) drop-shadow(0 0 20px #0ff); }
      100% { filter: drop-shadow(0 0 15px #0ff) drop-shadow(0 0 30px #0ff); }
    }
  </style>
</head>
<body>
  <canvas id="particles"></canvas>

  <!-- Side Japanese text -->
  <div class="side-text left">
    <span>ã‚¯ã‚µãƒ³ãƒŸãƒ¥ãƒ¼ã‚º</span>
    <span>ã‚¯ã‚µãƒ³ãƒŸãƒ¥ãƒ¼ã‚º</span>
    <span>ã‚¯ã‚µãƒ³ãƒŸãƒ¥ãƒ¼ã‚º</span>
    <span>ã‚¯ã‚µãƒ³ãƒŸãƒ¥ãƒ¼ã‚º</span>
  </div>
  <div class="side-text right">
    <span>ã‚¯ã‚µãƒ³ãƒŸãƒ¥ãƒ¼ã‚º</span>
    <span>ã‚¯ã‚µãƒ³ãƒŸãƒ¥ãƒ¼ã‚º</span>
    <span>ã‚¯ã‚µãƒ³ãƒŸãƒ¥ãƒ¼ã‚º</span>
    <span>ã‚¯ã‚µãƒ³ãƒŸãƒ¥ãƒ¼ã‚º</span>
  </div>

  <h1><span class="soul-icon">ðŸœ‚</span>XhanMuse â€” Music</h1>

  <ul id="playlist">
    <li data-src="audio/Xhan__Back_and_Forth.mp3">Back and Forth</li>
    <li data-src="audio/Xhan__Electric_Temptation.mp3">Electric Temptation</li>
    <li data-src="audio/Xhan__Fast_Life.mp3">Fast Life</li>
    <li data-src="audio/Xhan__Haze (1).mp3">Haze</li>
  </ul>

  <audio id="player" controls>
    <source id="source" src="audio/Xhan__Back_and_Forth.mp3" type="audio/mpeg">
    Your browser does not support audio.
  </audio>

  <footer>Contact: <a href="mailto:ehunt0045@gmail.com" style="color:#0ff">ehunt0045@gmail.com</a></footer>

  <script>
    // Playlist functionality
    const player = document.getElementById('player');
    const source = document.getElementById('source');
    const tracks = document.querySelectorAll('#playlist li');
    let currentIndex = 0;

    function setActive(index){
      tracks.forEach(t => t.classList.remove('active'));
      tracks[index].classList.add('active');
      currentIndex = index;
    }

    tracks.forEach((track, i)=>{
      track.addEventListener('click', ()=>{
        source.src = track.getAttribute('data-src');
        player.load();
        player.play();
        setActive(i);
      });
    });

    setActive(0);

    player.addEventListener('ended', ()=>{
      let nextIndex = (currentIndex + 1) % tracks.length;
      source.src = tracks[nextIndex].getAttribute('data-src');
      player.load();
      player.play();
      setActive(nextIndex);
    });

    // Particles
    const canvas = document.getElementById('particles');
    const ctx = canvas.getContext('2d');
    let w, h;
    let particles = [];
    const particleCount = 100;

    function resize(){
      w = canvas.width = window.innerWidth;
      h = canvas.height = window.innerHeight;
    }
    window.addEventListener('resize', resize);
    resize();

    class Particle {
      constructor(){
        this.reset();
      }
      reset(){
        this.x = Math.random()*w;
        this.y = Math.random()*h;
        this.size = Math.random()*3+1;
        this.baseY = this.y;
        this.speedX = (Math.random()-0.5)*0.3;
        this.alpha = Math.random()*0.5+0.3;
      }
      update(vol){
        this.x += this.speedX;
        this.y = this.baseY - vol*(Math.random()*30+10);
        if(this.x<0||this.x>w) this.reset();
      }
      draw(){
        ctx.globalAlpha = this.alpha;
        ctx.fillStyle = '#0ff';
        ctx.beginPath();
        ctx.arc(this.x, this.y, this.size, 0, Math.PI*2);
        ctx.fill();
      }
    }

    for(let i=0;i<particleCount;i++) particles.push(new Particle());

    // Audio visualization
    const audioCtx = new (window.AudioContext || window.webkitAudioContext)();
    const analyser = audioCtx.createAnalyser();
    const sourceNode = audioCtx.createMediaElementSource(player);
    sourceNode.connect(analyser);
    analyser.connect(audioCtx.destination);
    analyser.fftSize = 64;
    const dataArray = new Uint8Array(analyser.frequencyBinCount);

    function animate(){
      ctx.clearRect(0,0,w,h);
      analyser.getByteFrequencyData(dataArray);
      const volume = dataArray.reduce((a,b)=>a+b,0)/dataArray.length/255;
      particles.forEach(p=>{p.update(volume);p.draw();});
      requestAnimationFrame(animate);
    }

    document.body.addEventListener('click', ()=>{ audioCtx.resume(); }, {once:true});
    animate();
  </script>
</body>
</html>
